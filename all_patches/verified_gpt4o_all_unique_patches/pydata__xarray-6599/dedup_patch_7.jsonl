{"model_name_or_path": "agentless", "instance_id": "pydata__xarray-6599", "model_patch": "diff --git a/xarray/core/duck_array_ops.py b/xarray/core/duck_array_ops.py\nindex 3ef7ed0..1c59fc2 100644\n--- a/xarray/core/duck_array_ops.py\n+++ b/xarray/core/duck_array_ops.py\n@@ -500,8 +500,8 @@ def np_timedelta64_to_float(array, datetime_unit):\n     The array is first converted to microseconds, which is less likely to\n     cause overflow errors.\n     \"\"\"\n+    conversion_factor = np.timedelta64(1, datetime_unit).astype('timedelta64[ns]').astype(np.float64)\n     array = array.astype(\"timedelta64[ns]\").astype(np.float64)\n-    conversion_factor = np.timedelta64(1, \"ns\") / np.timedelta64(1, datetime_unit)\n     return conversion_factor * array\n \n \n", "occurrence": 1}
