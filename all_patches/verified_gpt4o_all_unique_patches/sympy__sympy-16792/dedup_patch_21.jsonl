{"model_name_or_path": "agentless", "instance_id": "sympy__sympy-16792", "model_patch": "diff --git a/sympy/utilities/autowrap.py b/sympy/utilities/autowrap.py\nindex da40c47..a22b5d4 100644\n--- a/sympy/utilities/autowrap.py\n+++ b/sympy/utilities/autowrap.py\n@@ -276,7 +276,11 @@ def autowrap(expr, language=None, backend='f2py', tempdir=None, args=None, flags\n             name_h = binary_function(name_h, expr_h, backend='dummy')\n             expr = expr.subs(expr_h, name_h(*args_h))\n     try:\n-        routine = code_gen.routine('autofunc', expr, args)\n+        routine_args = args if args else []\n+        for arg in args:\n+            if expr.has(arg):\n+                routine_args.append(arg)\n+        routine = code_gen.routine('autofunc', expr, routine_args)\n     except CodeGenArgumentListError as e:\n         new_args = []\n         for missing in e.missing_args:"}
