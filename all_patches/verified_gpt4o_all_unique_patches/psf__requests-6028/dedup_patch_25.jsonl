{"model_name_or_path": "agentless", "instance_id": "psf__requests-6028", "model_patch": "diff --git a/requests/sessions.py b/requests/sessions.py\nindex 65aa332..0d73642 100644\n--- a/requests/sessions.py\n+++ b/requests/sessions.py\n@@ -182,8 +182,13 @@ class Session(SessionRedirectMixin):\n         req = Request(method=method.upper(), url=url, headers=headers, files=files, data=data or {}, json=json, params=params or {}, auth=auth, cookies=cookies, hooks=hooks)\n         prep = self.prepare_request(req)\n         proxies = proxies or {}\n+        if proxies:\n+            proxy_auth = self.auth\n+            for proxy in proxies.values():\n+                if '@' in proxy:\n+                    proxy_auth = HTTPProxyAuth(*proxy.split('@')[0].split(':'))\n         settings = self.merge_environment_settings(prep.url, proxies, stream, verify, cert)\n-        send_kwargs = {'timeout': timeout, 'allow_redirects': allow_redirects}\n+        send_kwargs = {'timeout': timeout, 'allow_redirects': allow_redirects, 'auth': proxy_auth}\n         send_kwargs.update(settings)\n         resp = self.send(prep, **send_kwargs)\n         return resp"}
