{"model_name_or_path": "agentless", "instance_id": "psf__requests-6028", "model_patch": "diff --git a/requests/sessions.py b/requests/sessions.py\nindex 594e72b..915acd2 100644\n--- a/requests/sessions.py\n+++ b/requests/sessions.py\n@@ -520,6 +520,12 @@ class Session(SessionRedirectMixin):\n             prep.url, proxies, stream, verify, cert\n         )\n \n+        # If proxy requires authentication, add the Proxy-Authorization header\n+        if proxies and 'http' in proxies:\n+            proxy = proxies['http']\n+            proxy_headers = self.proxy_headers(proxy)\n+            prep.headers.update(proxy_headers)\n+\n         # Send the request.\n         send_kwargs = {\n             'timeout': timeout,\n"}
