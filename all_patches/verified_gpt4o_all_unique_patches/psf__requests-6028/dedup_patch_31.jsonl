{"model_name_or_path": "agentless", "instance_id": "psf__requests-6028", "model_patch": "diff --git a/requests/sessions.py b/requests/sessions.py\nindex 65aa332..a17bdd6 100644\n--- a/requests/sessions.py\n+++ b/requests/sessions.py\n@@ -208,8 +208,7 @@ class Session(SessionRedirectMixin):\n         kwargs.setdefault('stream', self.stream)\n         kwargs.setdefault('verify', self.verify)\n         kwargs.setdefault('cert', self.cert)\n-        if 'proxies' not in kwargs:\n-            kwargs['proxies'] = resolve_proxies(request, self.proxies, self.trust_env)\n+        proxies = kwargs.get('proxies') or resolve_proxies(request, self.proxies, self.trust_env)\n         if isinstance(request, Request):\n             raise ValueError('You can only send PreparedRequests.')\n         allow_redirects = kwargs.pop('allow_redirects', True)"}
