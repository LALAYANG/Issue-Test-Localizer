{"model_name_or_path": "agentless", "instance_id": "django__django-11477", "model_patch": "diff --git a/django/urls/resolvers.py b/django/urls/resolvers.py\nindex 58da200..2c2d238 100644\n--- a/django/urls/resolvers.py\n+++ b/django/urls/resolvers.py\n@@ -468,7 +468,11 @@ class URLResolver:\n                     else:\n                         for name in url_pattern.reverse_dict:\n                             for matches, pat, defaults, converters in url_pattern.reverse_dict.getlist(name):\n-                                new_matches = normalize(p_pattern + pat)\n+                                normalized_pattern = normalize(p_pattern + pat)\n+                                # Ensure optional named groups are correctly handled\n+                                if name.endswith('?'):\n+                                    name = name[:-1]\n+                                new_matches = normalized_pattern\n                                 lookups.appendlist(\n                                     name,\n                                     (\n", "occurrence": 1}
