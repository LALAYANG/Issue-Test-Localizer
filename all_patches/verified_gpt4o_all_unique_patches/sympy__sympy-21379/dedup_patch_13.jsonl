{"model_name_or_path": "agentless", "instance_id": "sympy__sympy-21379", "model_patch": "diff --git a/sympy/functions/elementary/piecewise.py b/sympy/functions/elementary/piecewise.py\nindex e1c61a2..665d115 100644\n--- a/sympy/functions/elementary/piecewise.py\n+++ b/sympy/functions/elementary/piecewise.py\n@@ -65,6 +65,13 @@ class Piecewise(Function):\n             return Undefined\n         if len(_args) == 1 and _args[0][-1] == True:\n             return _args[0][0]\n+        from sympy.assumptions import Q\n+        assumptions = {}\n+        for arg in _args:\n+            e, c = arg\n+            for symbol in e.free_symbols.union(c.free_symbols):\n+                assumptions[symbol] = symbol.assumptions0\n+        _args = [(e.xreplace(assumptions), c.xreplace(assumptions)) for e, c in _args]\n         newargs = []\n         current_cond = set()\n         args = []"}
