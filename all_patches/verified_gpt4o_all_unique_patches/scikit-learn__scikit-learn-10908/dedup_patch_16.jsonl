{"model_name_or_path": "agentless", "instance_id": "scikit-learn__scikit-learn-10908", "model_patch": "diff --git a/sklearn/feature_extraction/text.py b/sklearn/feature_extraction/text.py\nindex 7e240fc..5ad3e10 100644\n--- a/sklearn/feature_extraction/text.py\n+++ b/sklearn/feature_extraction/text.py\n@@ -953,6 +953,8 @@ class CountVectorizer(BaseEstimator, VectorizerMixin):\n         if not hasattr(self, 'vocabulary_'):\n             self._validate_vocabulary()\n \n+        if not hasattr(self, 'vocabulary_') and self.vocabulary is not None:\n+            self._validate_vocabulary()\n         self._check_vocabulary()\n \n         # use the same matrix-building strategy as fit_transform\n@@ -973,6 +975,8 @@ class CountVectorizer(BaseEstimator, VectorizerMixin):\n         X_inv : list of arrays, len = n_samples\n             List of arrays of terms.\n         \"\"\"\n+        if not hasattr(self, 'vocabulary_') and self.vocabulary is not None:\n+            self._validate_vocabulary()\n         self._check_vocabulary()\n \n         if sp.issparse(X):\n@@ -993,6 +997,8 @@ class CountVectorizer(BaseEstimator, VectorizerMixin):\n \n     def get_feature_names(self):\n         \"\"\"Array mapping from feature integer indices to feature name\"\"\"\n+        if not hasattr(self, 'vocabulary_') and self.vocabulary is not None:\n+            self._validate_vocabulary()\n         self._check_vocabulary()\n \n         return [t for t, i in sorted(six.iteritems(self.vocabulary_),\n"}
