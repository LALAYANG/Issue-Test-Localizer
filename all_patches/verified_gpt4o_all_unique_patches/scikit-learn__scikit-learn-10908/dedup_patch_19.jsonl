{"model_name_or_path": "agentless", "instance_id": "scikit-learn__scikit-learn-10908", "model_patch": "diff --git a/sklearn/feature_extraction/text.py b/sklearn/feature_extraction/text.py\nindex 583049b..b0abf8b 100644\n--- a/sklearn/feature_extraction/text.py\n+++ b/sklearn/feature_extraction/text.py\n@@ -161,11 +161,12 @@ class VectorizerMixin(object):\n                 raise ValueError('empty vocabulary passed to fit')\n             self.fixed_vocabulary_ = True\n             self.vocabulary_ = dict(vocabulary)\n-        else:\n             self.fixed_vocabulary_ = False\n+            self.vocabulary_ = {}\n     def _check_vocabulary(self):\n         msg = \"%(name)s - Vocabulary wasn't fitted.\"\n-        (check_is_fitted(self, 'vocabulary_', msg=msg),)\n+        if not hasattr(self, 'vocabulary_'):\n+            raise NotFittedError(msg % {'name': type(self).__name__})\n         if len(self.vocabulary_) == 0:\n             raise ValueError('Vocabulary is empty')\n     def _validate_params(self):"}
