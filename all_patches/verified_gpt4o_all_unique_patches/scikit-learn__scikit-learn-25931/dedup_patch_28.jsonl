{"model_name_or_path": "agentless", "instance_id": "scikit-learn__scikit-learn-25931", "model_patch": "diff --git a/sklearn/ensemble/_iforest.py b/sklearn/ensemble/_iforest.py\nindex d995c25..d3a67da 100644\n--- a/sklearn/ensemble/_iforest.py\n+++ b/sklearn/ensemble/_iforest.py\n@@ -345,7 +345,11 @@ class IsolationForest(OutlierMixin, BaseBagging):\n             return self\n \n         # else, define offset_ wrt contamination parameter\n-        self.offset_ = np.percentile(self.score_samples(X), 100.0 * self.contamination)\n+        X_features = getattr(X, \"columns\", None)\n+        self.offset_ = np.percentile(\n+            self.score_samples(X if X_features is None else pd.DataFrame(X, columns=X_features)),\n+            100.0 * self.contamination\n+        )\n \n         return self\n \n", "occurrence": 1}
