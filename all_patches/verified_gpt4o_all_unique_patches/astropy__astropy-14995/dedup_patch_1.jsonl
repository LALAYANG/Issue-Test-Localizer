{"model_name_or_path": "agentless", "instance_id": "astropy__astropy-14995", "model_patch": "--- a/astropy/nddata/nddata_withmixins.py\n+++ b/astropy/nddata/nddata_withmixins.py\n-    pass\n+    def _arithmetic_mask(self, operand1, operand2, handle_mask):\n+        if operand1.mask is None and operand2.mask is None:\n+            return None\n+        elif operand1.mask is None:\n+            return operand2.mask\n+        elif operand2.mask is None:\n+            return operand1.mask\n+        else:\n+            return handle_mask(operand1.mask, operand2.mask)\n+    def multiply(self, operand, handle_mask=np.bitwise_or):\n+        result_data = self.data * operand.data if isinstance(operand, NDDataRef) else self.data * operand\n+        result_mask = self._arithmetic_mask(self, operand, handle_mask) if isinstance(operand, NDDataRef) else self.mask\n+        return NDDataRef(result_data, mask=result_mask)"}
