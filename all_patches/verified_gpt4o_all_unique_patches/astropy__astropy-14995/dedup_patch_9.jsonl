{"model_name_or_path": "agentless", "instance_id": "astropy__astropy-14995", "model_patch": "diff --git a/astropy/nddata/nddata.py b/astropy/nddata/nddata.py\nindex 75e2ca7..46d6c04 100644\n--- a/astropy/nddata/nddata.py\n+++ b/astropy/nddata/nddata.py\n@@ -23,7 +23,7 @@ class NDData(NDDataBase):\n                 log.info(\"overwriting NDData's current uncertainty with specified uncertainty.\")\n             elif data.uncertainty is not None:\n                 uncertainty = data.uncertainty\n-            if mask is not None and data.mask is not None:\n+            if mask is not None:\n                 log.info(\"overwriting NDData's current mask with specified mask.\")\n             elif data.mask is not None:\n                 mask = data.mask\n@@ -41,7 +41,7 @@ class NDData(NDDataBase):\n                 meta = data.meta\n             data = data.data\n         if isinstance(data, Masked):\n-            if hasattr(data, 'mask'):\n+            if hasattr(data, 'mask') and data.mask is not None:\n                 if mask is not None:\n                     log.info(\"overwriting Masked Quantity's current mask with specified mask.\")\n                 else:"}
