{"model_name_or_path": "agentless", "instance_id": "django__django-16938", "model_patch": "diff --git a/django/db/models/query_utils.py b/django/db/models/query_utils.py\nindex 4465765..7ec720d 100644\n--- a/django/db/models/query_utils.py\n+++ b/django/db/models/query_utils.py\n@@ -338,16 +338,9 @@ def select_related_descend(field, restricted, requested, select_mask, reverse=Fa\n             return False\n     if not restricted and field.null:\n         return False\n-    if (\n-        restricted\n-        and select_mask\n-        and field.name in requested\n-        and field not in select_mask\n-    ):\n-        raise FieldError(\n-            f\"Field {field.model._meta.object_name}.{field.name} cannot be both \"\n-            \"deferred and traversed using select_related at the same time.\"\n-        )\n+    if restricted and select_mask and field.name in requested:\n+        if field not in select_mask:\n+            return False\n     return True\n \n \n"}
