{"model_name_or_path": "agentless", "instance_id": "sympy__sympy-13877", "model_patch": "diff --git a/sympy/matrices/matrices.py b/sympy/matrices/matrices.py\nindex be48f5f..21f6bb5 100644\n--- a/sympy/matrices/matrices.py\n+++ b/sympy/matrices/matrices.py\n@@ -65,7 +65,7 @@ class MatrixDeterminant(MatrixCommon):\n     def _eval_det_bareiss(self):\n         def _find_pivot(l):\n             for pos, val in enumerate(l):\n-                if val:\n+                if val and (not val.has(S.NaN)):\n                     return (pos, val, None, None)\n             return (None, None, None, None)\n         def bareiss(mat, cumm=1):\n@@ -74,7 +74,7 @@ class MatrixDeterminant(MatrixCommon):\n             elif mat.rows == 1:\n                 return mat[0, 0]\n             pivot_pos, pivot_val, _, _ = _find_pivot(mat[:, 0])\n-            if pivot_pos == None:\n+            if pivot_pos == None or pivot_val.has(S.NaN):\n                 return S.Zero\n             sign = (-1) ** (pivot_pos % 2)\n             rows = list((i for i in range(mat.rows) if i != pivot_pos))"}
