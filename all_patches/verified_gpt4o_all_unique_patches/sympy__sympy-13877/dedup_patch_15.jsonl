{"model_name_or_path": "agentless", "instance_id": "sympy__sympy-13877", "model_patch": "diff --git a/sympy/matrices/matrices.py b/sympy/matrices/matrices.py\nindex 3216a40..95c0320 100644\n--- a/sympy/matrices/matrices.py\n+++ b/sympy/matrices/matrices.py\n@@ -213,7 +213,15 @@ class MatrixDeterminant(MatrixCommon):\n \n             return sign*bareiss(self._new(mat.rows - 1, mat.cols - 1, entry), pivot_val)\n \n-        return cancel(bareiss(self))\n+        from sympy.core.symbol import Symbol, Basic\n+\n+        def has_symbolic_entries(mat):\n+            return any(isinstance(e, (Symbol, Basic)) for row in mat.tolist() for e in row)\n+\n+        if has_symbolic_entries(self):\n+            return self._eval_det_berkowitz()\n+        else:\n+            return cancel(bareiss(self))\n \n     def _eval_det_berkowitz(self):\n         \"\"\" Use the Berkowitz algorithm to compute the determinant.\"\"\"\n"}
