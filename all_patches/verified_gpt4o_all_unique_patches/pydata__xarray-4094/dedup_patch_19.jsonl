{"model_name_or_path": "agentless", "instance_id": "pydata__xarray-4094", "model_patch": "diff --git a/xarray/core/variable.py b/xarray/core/variable.py\nindex 7838e8d..140caf9 100644\n--- a/xarray/core/variable.py\n+++ b/xarray/core/variable.py\n@@ -1463,7 +1463,7 @@ class Variable(\n                 \"name as an existing dimension\"\n             )\n \n-        if np.prod(new_dim_sizes) != self.sizes[old_dim]:\n+        if np.prod(new_dim_sizes) != self.sizes.get(old_dim, 1):\n             raise ValueError(\n                 \"the product of the new dimension sizes must \"\n                 \"equal the size of the old dimension\"\n", "occurrence": 1}
