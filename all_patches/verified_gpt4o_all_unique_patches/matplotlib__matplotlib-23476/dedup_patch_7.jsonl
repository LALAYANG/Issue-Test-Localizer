{"model_name_or_path": "agentless", "instance_id": "matplotlib__matplotlib-23476", "model_patch": "diff --git a/lib/matplotlib/figure.py b/lib/matplotlib/figure.py\nindex f6d35a3..541f982 100644\n--- a/lib/matplotlib/figure.py\n+++ b/lib/matplotlib/figure.py\n@@ -906,6 +906,7 @@ class Figure(FigureBase):\n         return self.dpi\n     def set_dpi(self, val):\n         self.dpi = val\n+        self.set_dpi(self.dpi)\n         self.stale = True\n     def set_figwidth(self, val, forward=True):\n         self.set_size_inches(val, self.get_figheight(), forward=forward)\n@@ -970,6 +971,7 @@ class Figure(FigureBase):\n             mgr = plt._backend_mod.new_figure_manager_given_figure(num, self)\n             pylab_helpers.Gcf._set_new_active_manager(mgr)\n             plt.draw_if_interactive()\n+        self.set_dpi(self.dpi)\n         self.stale = True\n     def add_axobserver(self, func):\n         self._axobservers.connect('_axes_change_event', lambda arg: func(arg))"}
