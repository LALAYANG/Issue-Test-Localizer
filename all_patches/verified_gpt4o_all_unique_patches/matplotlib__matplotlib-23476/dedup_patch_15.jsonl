{"model_name_or_path": "agentless", "instance_id": "matplotlib__matplotlib-23476", "model_patch": "diff --git a/lib/matplotlib/figure.py b/lib/matplotlib/figure.py\nindex cd28277..70eab89 100644\n--- a/lib/matplotlib/figure.py\n+++ b/lib/matplotlib/figure.py\n@@ -2913,6 +2913,7 @@ class Figure(FigureBase):\n         val : float\n         \"\"\"\n         self.dpi = val\n+        self.set_dpi(self.dpi)\n         self.stale = True\n \n     def set_figwidth(self, val, forward=True):\n@@ -3056,6 +3057,7 @@ class Figure(FigureBase):\n             pylab_helpers.Gcf._set_new_active_manager(mgr)\n             plt.draw_if_interactive()\n \n+        self.set_dpi(self.dpi)\n         self.stale = True\n \n     def add_axobserver(self, func):\n"}
