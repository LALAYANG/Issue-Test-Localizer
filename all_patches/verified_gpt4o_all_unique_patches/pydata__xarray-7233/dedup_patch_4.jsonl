{"model_name_or_path": "agentless", "instance_id": "pydata__xarray-7233", "model_patch": "diff --git a/xarray/core/dataset.py b/xarray/core/dataset.py\nindex f13a66b..f634bc1 100644\n--- a/xarray/core/dataset.py\n+++ b/xarray/core/dataset.py\n@@ -397,7 +397,8 @@ class Dataset(DataWithCoords, DatasetAggregations, DatasetArithmetic, Mapping[Ha\n         return obj\n     def _replace_with_new_dims(self: T_Dataset, variables: dict[Hashable, Variable], coord_names: set | None=None, attrs: dict[Hashable, Any] | None | Default=_default, indexes: dict[Hashable, Index] | None=None, inplace: bool=False) -> T_Dataset:\n         dims = calculate_dimensions(variables)\n-        return self._replace(variables, coord_names, dims, attrs, indexes, inplace=inplace)\n+        new_coord_names = coord_names if coord_names is not None else self._coord_names\n+        return self._replace(variables, new_coord_names, dims, attrs, indexes, inplace=inplace)\n     def _replace_vars_and_dims(self: T_Dataset, variables: dict[Hashable, Variable], coord_names: set | None=None, dims: dict[Hashable, int] | None=None, attrs: dict[Hashable, Any] | None | Default=_default, inplace: bool=False) -> T_Dataset:\n         if dims is None:\n             dims = calculate_dimensions(variables)"}
