{"model_name_or_path": "agentless", "instance_id": "astropy__astropy-14539", "model_patch": "diff --git a/astropy/io/fits/diff.py b/astropy/io/fits/diff.py\nindex 0a08301..720682d 100644\n--- a/astropy/io/fits/diff.py\n+++ b/astropy/io/fits/diff.py\n@@ -1450,14 +1450,8 @@ class TableDataDiff(_BaseDiff):\n             ):\n                 diffs = where_not_allclose(arra, arrb, rtol=self.rtol, atol=self.atol)\n             elif \"P\" in col.format:\n-                diffs = (\n-                    [\n-                        idx\n-                        for idx in range(len(arra))\n-                        if not np.allclose(\n-                            arra[idx], arrb[idx], rtol=self.rtol, atol=self.atol\n-                        )\n-                    ],\n+                diffs = np.where(\n+                    [not np.allclose(arra[idx], arrb[idx], rtol=self.rtol, atol=self.atol) for idx in range(len(arra))]\n                 )\n             else:\n                 diffs = np.where(arra != arrb)\n"}
