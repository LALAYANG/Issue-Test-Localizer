{"model_name_or_path": "agentless", "instance_id": "astropy__astropy-14539", "model_patch": "diff --git a/astropy/io/fits/diff.py b/astropy/io/fits/diff.py\nindex 0a08301..1a69bff 100644\n--- a/astropy/io/fits/diff.py\n+++ b/astropy/io/fits/diff.py\n@@ -1454,9 +1454,10 @@ class TableDataDiff(_BaseDiff):\n                     [\n                         idx\n                         for idx in range(len(arra))\n-                        if not np.allclose(\n-                            arra[idx], arrb[idx], rtol=self.rtol, atol=self.atol\n-                        )\n+                        if (len(arra[idx]) != len(arrb[idx])) or \n+                           (not np.allclose(\n+                               arra[idx], arrb[idx], rtol=self.rtol, atol=self.atol\n+                           ))\n                     ],\n                 )\n             else:\n"}
