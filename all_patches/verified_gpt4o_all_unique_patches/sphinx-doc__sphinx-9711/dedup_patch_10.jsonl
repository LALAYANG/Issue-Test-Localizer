{"model_name_or_path": "agentless", "instance_id": "sphinx-doc__sphinx-9711", "model_patch": "diff --git a/sphinx/extension.py b/sphinx/extension.py\nindex 6ac780b..5a05643 100644\n--- a/sphinx/extension.py\n+++ b/sphinx/extension.py\n@@ -51,7 +51,16 @@ def verify_needs_extensions(app: \"Sphinx\", config: Config) -> None:\n                               'but it is not loaded.'), extname)\n             continue\n \n-        if extension.version == 'unknown version' or reqversion > extension.version:\n+        from packaging.version import Version, InvalidVersion\n+\n+        try:\n+            ext_version = Version(extension.version)\n+            req_version = Version(reqversion)\n+        except InvalidVersion:\n+            raise VersionRequirementError(__('Invalid version format for %s or %s.') %\n+                                          (extname, reqversion))\n+\n+        if extension.version == 'unknown version' or ext_version < req_version:\n             raise VersionRequirementError(__('This project needs the extension %s at least in '\n                                              'version %s and therefore cannot be built with '\n                                              'the loaded version (%s).') %\n@@ -65,4 +74,4 @@ def setup(app: \"Sphinx\") -> Dict[str, Any]:\n         'version': 'builtin',\n         'parallel_read_safe': True,\n         'parallel_write_safe': True,\n-    }\n+    }\n"}
